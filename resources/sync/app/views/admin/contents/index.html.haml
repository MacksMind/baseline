= content_for :javascript do
  :javascript
    $(document).ready(function(){
      $('#contents').sortable({
        cursor: 'crosshair',
        opacity: 0.4,
        update: function(){
          $.ajax({
            type: 'post',
            data: $('#contents').sortable('serialize'),
            dataType: 'script',
            complete: function(request){
              $('#contents').effect('highlight');
            },
            url: '#{sort_admin_contents_path}'
          })
        }
      });
    });

%h2 Listing contents
%p Drag/drop to sort
#contents
  - @contents.each do |content|
    = content_tag_for :div, content, :class => 'span-24' do
      .span-3= content.name
      .span-3= content.title
      .span-14= content.html
      .span-1= link_to 'Show', [:admin,content]
      .span-1= link_to 'Edit', edit_admin_content_path(content)
      .span-2.last= link_to 'Destroy', [:admin,content], :confirm => 'Are you sure?', :method => :delete
.span-24.prepend-top
  = link_to 'New Content', new_admin_content_path
