!!!
%html{:lang => "en"}
  %head
    %meta{:charset => "utf-8"}
    %meta{:content => "IE=edge,chrome=1", "http-equiv" => "X-UA-Compatible"}
    %meta{:content => "width=device-width, initial-scale=1.0", :name => "viewport"}
    %title= @page_title || ::Baseline::AppName
    = stylesheet_link_tag "application", :media => "all"
    /[if lt IE 9]
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    = javascript_include_tag "application"
    = csrf_meta_tag
    = yield :javascript
  %body
    .container
      %header#masthead
        %h1= @page_title || ::Baseline::AppName
        %p
          - if user_signed_in?
            = current_user.email
            \/
            = link_to "Sign out", destroy_user_session_path, :method => :delete
          - else
            = link_to "Sign in", new_user_session_path
            \/
            = link_to "Sign up", new_user_registration_path
      %nav#menu
        %ul
          - Content.order(:position).each do |content|
            %li= menu_link content.name, content_path(content)
          - if user_signed_in? && current_user.has_role?(:admin)
            %li
              = menu_link "Admin", "#"
              %ul
                %li= menu_link 'Users', admin_users_path
                %li= menu_link 'Contents', admin_contents_path
      #flash
        - flash.each do |key, value|
          - key = :error if key == :failure
          %div{:class => key}= html_escape(value)
      %section#main
        = yield
      %footer
        .center
          &copy; 2012 Agile Reasoning LLC
